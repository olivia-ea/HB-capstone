{% extends 'base.html' %}
{% block content %}

  <div>Select an activity!</div>

  <select>
    <option value="chill">Chill</option>
    <option value="study">Study</option>
    <option value="workout">Workout</option>
  </select>

  <div>
    <input type="submit" value="Submit" id='search-button'>
  </div>


<script>

    const play = ({
      spotify_uri,
      playerInstance: {
        _options: {
          getOAuthToken,
          id
        }
      }
    }) => {
      getOAuthToken(access_token => {
        fetch(`https://api.spotify.com/v1/me/player/play?device_id=${id}`, {
          method: 'PUT',
          body: JSON.stringify({ uris: [spotify_uri] }),
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${access_token}`
          },
        });
      });
    };

    play({
      playerInstance: new Spotify.Player({ name: "..." }),
      spotify_uri: 'spotify:track:7xGfFoTpQ2E7fRF5lN10tr',
    });

</script>


<!--     <script>
    
        // let menuId = $("ul.nav").first().attr("id");
        // // let keyword = whatever user specified
        // $("button").click(function(){
        // let request = $.ajax({
        //   url: "https://api.spotify.com/v1/search",
        //   type: "GET",
        //   data: {q : keyword, type: 'playlist'},
        //   dataType: "application/json"
        // });


        // $('#search-button').on('click', searchAPI);

        var url = "https://api.spotify.com/v1/search?q=workout&type=playlist&limit=1&offset=1"
        

        $("#search-button").click(function(){
          $.ajax({
            url: url,
            type: "GET",
            contentType: "application/json",
            headers: '{{resp}}',
            success: function(data) {
                //print result of get
                console.log(data);
            }
          });


    </script> -->

<br>
<br>
<br>
<div>  
    <button id='logout-user'>logout</button>
</div>


<script>
    function logoutExistingUser(evt) {
        window.location.replace("/logout");
    }

    $('#logout-user').on('click', logoutExistingUser);
</script>
{% endblock %}

<!-- $("button").click(function(){
  $.ajax({url: "demo_test.txt", success: function(result){
    $("#div1").html(result);
  }});
});
 -->